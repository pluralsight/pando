---
tags: [Development, Packages, React, React utils, useSubmenuInteraction, hooks]
title: useSubmenuInteraction
---

import CodeBlock from '@theme/CodeBlock'
import ViewSourceLink from '@site/src/components/ViewSourceLink/ViewSourceLink'

A custom hook for handling submenu interactions and state within a [menu](https://www.w3.org/WAI/ARIA/apg/patterns/menu/) role.

<ViewSourceLink
  icon="github"
  href="https://github.com/pluralsight/tva/blob/main/packages/react-utils/src/hooks/menu/useSubmenuInteraction.ts"
>
  View source
</ViewSourceLink>

## Import

```javascript
import { useSubmenuInteraction } from '@pluralsight/react-utils'
```

## Basic usage

The `useSubmenuInteraction` hook takes no arguments.

```jsx
const { expanded, menu, trigger } = useMenuInteraction()
```

## Return value

The `useSubmenuInteraction` hook returns prop sets for the submenu and its trigger, as well as a boolean indicating the `expanded` state of the submenu.

```typescript
interface useSubmenuInteractionProps {
  expanded: boolean
  menu: {
    'aria-expanded': 'true' | 'false'
    ref: RefObject<HTMLMenuElement>
    role: 'menu'
    onBlur: (event: FocusEvent) => void
    onKeyDown: (event: KeyboardEvent) => void
  }
  trigger: {
    'data-expanded': 'true' | 'false'
    ref: RefObject<HTMLButtonElement>
    onClick: () => void
    onKeyDown: (event: KeyboardEvent) => void
  }
}
```

## Example usage in component

Here is an example of how you might use this hook in a Menu component combined with the [Menu headless-styles](../headless-styles/Menu.mdx) and [useRovingTabIndex](./use-roving-tab-index.mdx) hook.

:::tip

Combine with the [useRovingTabIndex](./use-roving-tab-index.mdx) hook for the preferred approach to focus management.

:::

```jsx
export function MenuItem(props) {
  const menuStyles = getMenuProps()
  const rovingTabIndexProps = useRovingTabIndex()

  return (
    <li {...menuStyles.menuListItem}>
      <a {...menuStyles.menuItem} {...rovingTabIndexProps} href={props.href}>
        {props.children}
      </a>
    </li>
  )
}

export function Submenu(props) {
  const submenuStyles = getMenuProps({
    kind: 'submenu',
    label: props.label,
  })
  const submenuInteractionProps = useSubmenuInteraction()

  return (
    <li {...submenuStyles.menuListItem}>
      <button {...submenuStyles.menuItem} {...submenuInteractionProps.trigger}>
        <span>{props.label}</span>
        <ChevronRightIcon {...getIconStyles(submenyStyles.iconOptions)} />
      </button>

      <menu {...submenuStyles.menu}>{props.children}</menu>
    </li>
  )
}
```
