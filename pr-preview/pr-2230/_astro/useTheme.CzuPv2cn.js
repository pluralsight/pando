import{r as t}from"./index.S5sIXfgp.js";var m="pandoTheme",l="inkyBlue",h="pandoMode",o="dark",s="light",M="system";function f(e){const n=e===M;return e===s?s:e===o?o:n&&window?.matchMedia("(prefers-color-scheme: light)").matches?s:n&&window?.matchMedia("(prefers-color-scheme: dark)").matches||n?o:e}function g(){let e=null;return typeof window<"u"&&(e=window?.localStorage.getItem(m)??l),e}function S(e){document?.documentElement.setAttribute("data-theme",f(e)),window?.localStorage.setItem(m,e)}function T(){let e=null;return typeof window<"u"&&(e=window?.localStorage.getItem(h)??o),e}function C(e){document?.documentElement.setAttribute("data-color-mode",f(e)),window?.localStorage.setItem(h,e)}function v(e,n){const[c,w]=t.useState(!1),[a,p]=t.useState(()=>e??g()),[d,E]=t.useState(()=>n??T()),u=t.useCallback(r=>{p(r)},[]),i=t.useCallback(r=>{E(r)},[]);return t.useEffect(()=>{w(!0)},[]),t.useEffect(()=>{S(a)},[a]),t.useEffect(()=>{C(d)},[d]),t.useMemo(()=>({theme:c?a:l,mode:c?d:o,updateMode:i,updateTheme:u}),[d,a,i,u,c])}export{v as u};
